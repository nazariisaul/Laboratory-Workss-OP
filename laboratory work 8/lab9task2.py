# Лабораторна робота №9
# Завдання 2

# Перевірка: рядок містить лише цифри, пробіли та мінус
def is_correct_array(s):
    i = 0
    while i < len(s):
        if not (s[i].isdigit() or s[i] == ' ' or s[i] == '-'):
            return False
        i = i + 1
    return True

# Перевірка числа K
def is_correct_number(s):
    i = 0
    # Якщо число починається з мінуса — пропускаємо його
    if s.startswith('-'):
        i = 1
    while i < len(s):
        if not s[i].isdigit():
            return False
        i = i + 1
    return s != ""

# Введення масиву з клавіатури
s = input("Введіть елементи масиву через пробіл: ")

# Перевірка масиву на наявність літер
if not is_correct_array(s):
    print("Неможливо розв’язати: введено літери!")
else:
    # Якщо введено порожній рядок — створюємо порожній масив
    if s.strip() == "":
        mas = []
    else:
        # Перетворюємо рядок у список цілих чисел
        mas = list(map(int, s.split()))

    # Для виконання завдання потрібно мінімум 3 елементи
    if len(mas) < 3:
        print("Масив повинен містити щонайменше 3 елементи.")
    else:
        # Введення значення K
        k_str = input("Введіть K (у відсотках): ")

        # Перевірка коректності K
        if not is_correct_number(k_str):
            print("Неможливо розв’язати: K введено неправильно.")
        else:
            # Перетворення K у ціле число
            K = int(k_str)

            # Починаємо з третього елемента (індекс 2)
            i = 2
            while i < len(mas):
                # Обчислення збільшення
                increase = (mas[i-1] + mas[i-2]) * K / 100
                # Зміна поточного елемента масиву
                mas[i] = mas[i] + increase
                i = i + 1

            # Виведення зміненого масиву
            print("Оновлений масив:")
            print(mas)